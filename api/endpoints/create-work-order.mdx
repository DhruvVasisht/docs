---
title: Create Work Order
description: Creates a new work order with support for different types including BOQ-linked and non-BOQ work orders
openapi: POST /work-orders
---

Creates a new work order with support for different types including BOQ-linked and non-BOQ work orders.

## Authorizations

<ParamField header="Authorization" type="string" required>
  Bearer authentication header of the form `Bearer <token>`, where `<token>` is your auth token
</ParamField>

## Request Body

<ParamField body="projectId" type="string" required>
  Unique identifier for the project where the work order will be executed
</ParamField>

<ParamField body="type" type="string" required>
  Type of work order. Must be one of:
  - `DIRECT_BOQ`: Directly linked to BOQ items with predefined rates
  - `INDIRECT_BOQ`: Related to BOQ but with custom rates
  - `NON_BOQ`: Independent work not linked to any BOQ
  - `LABOUR`: Labour-only work orders without materials
</ParamField>

<ParamField body="contractorId" type="string" required>
  Unique identifier of the contractor assigned to execute the work
</ParamField>

<ParamField body="items" type="array" required>
  Array of work order items. Each item must contain:
  
  <Expandable title="Item Properties">
    <ParamField body="items[].boqId" type="string">
      BOQ item identifier (required for DIRECT_BOQ and INDIRECT_BOQ types)
    </ParamField>
    <ParamField body="items[].quantity" type="number" required>
      Quantity of work to be performed (must be positive)
    </ParamField>
    <ParamField body="items[].rate" type="number" required>
      Rate per unit in the project currency (must be positive)
    </ParamField>
    <ParamField body="items[].description" type="string">
      Optional description of the work item
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="startDate" type="string" required>
  Work start date in ISO 8601 format (YYYY-MM-DD)
</ParamField>

<ParamField body="endDate" type="string" required>
  Work end date in ISO 8601 format (YYYY-MM-DD). Must be after startDate
</ParamField>

<ParamField body="locations" type="array">
  Array of location identifiers where work will be performed
</ParamField>

<ParamField body="description" type="string">
  Optional detailed description of the work order
</ParamField>

<ParamField body="priority" type="string">
  Work order priority level: `LOW`, `MEDIUM`, `HIGH`, `URGENT`
</ParamField>

<RequestExample>
```bash cURL
curl -X POST "https://api.ttipl.com/v1/work-orders" \
  -H "Authorization: Bearer your_api_token_here" \
  -H "Content-Type: application/json" \
  -d '{
    "projectId": "proj_67890abc",
    "type": "DIRECT_BOQ",
    "contractorId": "cont_12345def",
    "items": [
      {
        "boqId": "boq_98765xyz",
        "quantity": 150,
        "rate": 2750.50,
        "description": "Concrete foundation work"
      }
    ],
    "startDate": "2024-01-15",
    "endDate": "2024-03-30",
    "locations": ["loc_building_a", "loc_building_b"],
    "description": "Foundation and structural work for Phase 1",
    "priority": "HIGH"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.ttipl.com/v1/work-orders', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer your_api_token_here',
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    projectId: 'proj_67890abc',
    type: 'DIRECT_BOQ',
    contractorId: 'cont_12345def',
    items: [{
      boqId: 'boq_98765xyz',
      quantity: 150,
      rate: 2750.50,
      description: 'Concrete foundation work'
    }],
    startDate: '2024-01-15',
    endDate: '2024-03-30',
    locations: ['loc_building_a', 'loc_building_b'],
    description: 'Foundation and structural work for Phase 1',
    priority: 'HIGH'
  })
});

const data = await response.json();
if (response.ok) {
  console.log('Work Order Created:', data.data.id);
} else {
  console.error('Error:', data.error.message);
}
```

```python Python
import requests

url = "https://api.ttipl.com/v1/work-orders"
headers = {
    "Authorization": "Bearer your_api_token_here",
    "Content-Type": "application/json"
}

payload = {
    "projectId": "proj_67890abc",
    "type": "DIRECT_BOQ",
    "contractorId": "cont_12345def",
    "items": [{
        "boqId": "boq_98765xyz",
        "quantity": 150,
        "rate": 2750.50,
        "description": "Concrete foundation work"
    }],
    "startDate": "2024-01-15",
    "endDate": "2024-03-30",
    "locations": ["loc_building_a", "loc_building_b"],
    "description": "Foundation and structural work for Phase 1",
    "priority": "HIGH"
}

try:
    response = requests.post(url, headers=headers, json=payload)
    response.raise_for_status()
    work_order = response.json()
    print(f"Work Order Created: {work_order['data']['id']}")
except requests.exceptions.RequestException as e:
    print(f"Error: {e}")
```
</RequestExample>

<ResponseExample>
```json Success Response (201 Created)
{
  "success": true,
  "data": {
    "id": "wo_abc123def456",
    "projectId": "proj_67890abc",
    "type": "DIRECT_BOQ",
    "status": "DRAFT",
    "contractorId": "cont_12345def",
    "totalAmount": 412575.00,
    "itemsCount": 1,
    "items": [
      {
        "id": "item_001",
        "boqId": "boq_98765xyz",
        "quantity": 150,
        "rate": 2750.50,
        "amount": 412575.00,
        "description": "Concrete foundation work"
      }
    ],
    "startDate": "2024-01-15",
    "endDate": "2024-03-30",
    "locations": ["loc_building_a", "loc_building_b"],
    "description": "Foundation and structural work for Phase 1",
    "priority": "HIGH",
    "createdAt": "2024-01-10T14:30:00.000Z",
    "updatedAt": "2024-01-10T14:30:00.000Z",
    "createdBy": "user_789xyz"
  },
  "meta": {
    "requestId": "req_abc123",
    "processingTime": "245ms"
  }
}
```

```json Validation Error (400 Bad Request)
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Request validation failed",
    "details": [
      {
        "field": "items[0].quantity",
        "message": "Quantity must be a positive number",
        "value": -10
      }
    ]
  },
  "meta": {
    "requestId": "req_error123",
    "timestamp": "2024-01-10T14:30:00.000Z"
  }
}
```

```json Authentication Error (401 Unauthorized)
{
  "success": false,
  "error": {
    "code": "UNAUTHORIZED",
    "message": "Invalid or expired authentication token"
  },
  "meta": {
    "requestId": "req_auth_error",
    "timestamp": "2024-01-10T14:30:00.000Z"
  }
}
```

```json Rate Limit Error (429 Too Many Requests)
{
  "success": false,
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "API rate limit exceeded. Please try again later."
  },
  "meta": {
    "requestId": "req_rate_limit",
    "timestamp": "2024-01-10T14:30:00.000Z",
    "retryAfter": 3600
  }
}
```
</ResponseExample>

## Response Fields

<ResponseField name="success" type="boolean">
  Indicates whether the request was successful
</ResponseField>

<ResponseField name="data" type="object">
  Contains the created work order data when successful
  
  <Expandable title="Work Order Object">
    <ResponseField name="data.id" type="string">
      Unique identifier for the created work order
    </ResponseField>
    <ResponseField name="data.status" type="string">
      Current status of the work order (always "DRAFT" for new work orders)
    </ResponseField>
    <ResponseField name="data.totalAmount" type="number">
      Total calculated amount for all items in the work order
    </ResponseField>
    <ResponseField name="data.itemsCount" type="number">
      Number of items in the work order
    </ResponseField>
    <ResponseField name="data.createdAt" type="string">
      ISO 8601 timestamp when the work order was created
    </ResponseField>
    <ResponseField name="data.createdBy" type="string">
      ID of the user who created the work order
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="error" type="object">
  Error information when the request fails
  
  <Expandable title="Error Object">
    <ResponseField name="error.code" type="string">
      Machine-readable error code for programmatic handling
    </ResponseField>
    <ResponseField name="error.message" type="string">
      Human-readable error description
    </ResponseField>
    <ResponseField name="error.details" type="array">
      Detailed validation errors (present for validation failures)
    </ResponseField>
  </Expandable>
</ResponseField>
